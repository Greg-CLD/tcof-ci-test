ğŸ›  Replit Agent Prompt â€“ Structured Checklist to FIX â€œComplete Profileâ€ Flow
1 â€” Problem Statement
Clicking â€œComplete Profileâ€ on /projects/:id (and â€œComplete Setupâ€ in org view) still does nothing.

The route /projects/:projectId/profile/edit loads but only shows the bannerâ€”no formâ€”and no save action works.

2 â€” Expected Behavior
â€œComplete Setupâ€ button â‡’ /projects/:id/profile/edit.

Edit form renders with all profile fields pre-filled.

Save triggers PUT /api/projects/:id, sets isProfileComplete=true, invalidates query, and navigates to /projects/:id.

Banner disappears; tools load without guard.

3 â€” Technical Requirements
Frontend

Files:

OrganisationDashboardPage.tsx (button path)

ProjectPage.tsx (complete-profile button)

ProjectProfilePage.tsx / form component

ProtectedRouteGuard.tsx

Verify router ordering in App.tsx (/profile/edit before generic /projects/:id).

Backend

Ensure is_profile_complete boolean column exists in projects table (add migration if missing).

API PUT /api/projects/:id sets is_profile_complete=true when required fields are filled.

React Query

Invalidate ['project', id] and ['projects'] after update.

Tests

Jest: unit test isProjectProfileComplete.

Playwright: flow testâ€”create incomplete project, complete profile, assert banner gone.

4 â€” System Safeguards
Do NOT touch unrelated routes (/organisations, tool pages) or global layout components.

Do NOT delete existing working pages.

Add a pre-commit check to block deletion of ProjectProfilePage.tsx.

5 â€” Post-Change Validation (manual)
Login â†’ Organisations â†’ Project card â†’ Complete Setup.

URL shows /profile/edit; form visible.

Fill sector, orgType, stage; click Save.

Redirect to /projects/:id; no â€œProfile Incompleteâ€ banner.

Navigate to /get-your-bearings/:id; page loads (no guard).

Deliverables / Audit
Files modified (list paths).

Migration file name (if added).

Console log showing successful PUT response.

Screenshot or description confirming banner removal.

Locations of Jest & Playwright tests.