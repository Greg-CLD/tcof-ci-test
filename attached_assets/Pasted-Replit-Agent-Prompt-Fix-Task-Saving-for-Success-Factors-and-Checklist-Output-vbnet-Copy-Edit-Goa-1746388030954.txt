Replit Agent Prompt: Fix Task Saving for Success Factors and Checklist Output
vbnet
Copy
Edit
ğŸ¯ Goal  
Fix issues with saving and retrieving default tasks from TCOF Success Factors, and ensure these display in the final project checklist as expected.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ› ï¸ 1. Task Saving Bug in /make-a-plan/admin/factors  
â€¢ When I add a task to a Success Factor, the UI shows â€œAuto-savingâ€ â€“ but when I refresh the page, the task disappears.  
â†’ Please fix this so that task entries **persist to the database** reliably.

â€¢ Confirm the following:
  â€“ Task is correctly linked to the selected Success Factor (by factorId)
  â€“ Task is correctly linked to a Stage (Identification, Definition, Delivery, Closure)
  â€“ Task is saved in the correct data structure for inclusion in the userâ€™s checklist

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“‹ 2. Fix Final Checklist Logic  
â€¢ When a user generates their checklist at /make-a-plan/checklist, I expect the following:

âœ… All 12 official TCOF Success Factors listed  
âœ… All associated default tasks (from admin area) shown under each factor  
âœ… All personal heuristics + user-added tasks  
âœ… All custom framework tasks from Step 7  
âœ… All organisational policy tasks from Step 5

Currently, TCOF tasks are not appearing â€“ please ensure the checklist query correctly loads them by factorId and stage.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ” 3. Expected Behavior Recap  
â€¢ Tasks added in /make-a-plan/admin/factors should persist and appear:
  â€“ In Step 1 (as read-only heuristics)
  â€“ In the checklist as default tasks linked to Success Factors

â€¢ Any failure to save means these tasks silently disappear from the userâ€™s flow.  
â†’ Please implement a fail-safe: if a save fails, show an inline error and **do not silently proceed**.

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âœ… Test Criteria  
â€¢ Go to /make-a-plan/admin/factors  
â€¢ Add a task to a Success Factor under a specific stage  
â€¢ Refresh the page â†’ the task should persist  
â€¢ Generate a checklist for a project â†’ the TCOF factor and this task should appear

End of prompt